\chapter{DeviceManagement Portal}

In diesem Kapitel wird genauer auf das Devicemanagement Portal eingegangen.

\section{Software Analyse}

\subsection{Anforderungen}
Um die Anforderungen zu evaluieren wurde das bestehende Portal analysiert. Da beim bestehenden System die Funktionalität stark eingeschränkt war, wurden vom Industriepartner zusätzliche Funktionalitäten gewünscht.
Um eine kurze Übersicht über die vorhandenen Funktionen und erfassten Anforderungen zu geben folgt hier eine Tabelle.

{\renewcommand{\arraystretch}{2}%
    \begin{longtable}{  p{3.5cm} | p{4.3cm} | p{4.3cm} }

    \textbf{Requirements} & \textbf{Altes System} & \textbf{Neues System} \\ \hline
\hline
    Einstellungen anpassen & Nur Renndistanzkorrektur & Detaillierte Verwaltung der Ger"{a}teeinstellungen \\ \hline
    Status der Ger"{a}te & Rudiment"{a}re Anzeige des Ger"{a}testatus & Detaillierte Anzeige des Ger"{a}testatus \\
    \hline
     Alarming bei schlechtem Gerätezustand & Dauer seit letztem Positionsupdate / Bildempfang zu gross & Visuelle Hervorhebung bei Problemen des Ger"{a}testatus \\
    \hline
    Neustarten des Ger"{a}ts & Neustarten des Ger"{a}tes via Portal & -(nur f"{u}r Systemapps möglich)\\
    \hline
    Ger"{a}telog anzeigen & - & Ger"{a}telog wird angezeigt\\
    \hline
    Versand von Nachrichten & - & Nachrichten an das Ger"{a}t senden via Portal\\

\caption{Anforderungen DeviceManagement Portal}
\end{longtable}}

Eine detaillierte Beschreibung aller Anforderungen befindet sich im Anhang. Folgend werden die aus unserer Sicht wichtigsten Anforderungen beschrieben.

\subsubsection{Funktionale Anforderungen}
\paragraph{Betriebsmodi}
Die Ger"{a}te sollen sowohl "{u}ber ein Management-Portal, analog zum zur bisherigen Verwaltungsseite , fernverwaltet als auch "{u}ber ein „Einstellungen“-Men"{u} direkt am Ger"{a}t konfiguriert werden können. 

Daraus resultieren zwei Betriebsmodi: „managed“ und „unmanaged“. Beim ersten App-Start nach der Installation der App, wird der Benutzer gefragt, in welchem Modus das Aufnahmesystem betrieben werden soll. Die beiden Modi lassen sich am Ger"{a}t selber jederzeit "{a}ndern. W"{a}hlt der Benutzer beim ersten App-Start innerhalb von 10 Sekunden keinen Modus, wird das Ger"{a}t automatisch in den Betriebsmodus „managed“ versetzt und eine Standardkonfiguration vom Device Management Server bezogen.

Bei allen weiteren App-Starts werden die Einstellungen vom letzten Betrieb "{u}bernommen sofern der Betriebsmodus zuvor „unmanaged“ war. War der Betriebsmodus auf „managed“ eingestellt, so wird die Konfiguration vom Management Server bezogen. Ist dieser nicht verf"{u}gbar, wird der Modus auf „unmanaged“ gesetzt und die existierenden Einstellungen verwendet.

\paragraph{Alarming Funktionen}
Treten Probleme auf, so soll auf dem Telefon sowie in der Management Konsole dar"{u}ber informiert werden. Als zu meldende Probleme gelten folgende:
\begin{itemize}
\item Keine GPS-Daten w"{a}hrend 2 Minuten
\item Keine Bild-Daten w"{a}hrend 2 Minuten
\item Keine Mobile-Verbindung 2 Minuten [TODO: Unlogisch]
\item Smartphone wird nicht mehr geladen (Stromzufuhr unterbrochen)
\item Smartphone Akkustand ist unter 50\%, 25\%, 10\%
\end{itemize}
	
\subsubsection{Nichtfunktionale Anforderungen}

\paragraph{Sicherheit}
Das Devicemanagement Portal wird mit einem Benutzernamen und Passwort gesperrt. 

\subsection*{Technologien}
F"{u}r die Entwicklung des Portals wurde das Spring Framework benutzt. Genauere Details dazu befinden sich in dem TourLive Server Kapitel.


\section{Software Design}

