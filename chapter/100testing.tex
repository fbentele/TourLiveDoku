\section{Testing}
Das Testing des Gesamtsystems und der einzelnen Komponenten wurde mit verschiedenen Testverfahren abgedeckt. Funktionen und Algorithmen innerhalb der einzelnen Komponenten wurden mit Unit Tests (Kapitel \ref{sec:unittests}) getestet. Systemtests (Kapitel \ref{sec:systemtests}) wurden durchgeführt um das Zusammenspiel der verschiedenen Komponenten und ihre Funktionen als Ganzes zu testen. Auf Usability Tests wurde absichtlich verzichtet, da sich die Komplexität der grafischen Oberflächen in Grenzen hält. 

\subsection{Systemtests}
\label{sec:systemtests}

\subsubsection{Übersicht Systemtests}
\begin{longtable}{p{0.3cm}|p{1.8cm}|p{9.3cm}}
& &  \\ [-1.5ex]
\textbf{\#} & \textbf{Datum} & \textbf{Systemtest} \\ [1ex] \hline & &  \\ [-1.5ex]
1 & 25.05.2013 & Rapperswiler Rundfahrt \\ [1ex] \hline & &  \\ [-1.5ex]
2 & 01.06.2013 & Langzeittest über Nacht \\ [1ex] \hline & &  \\ [-1.5ex]
3 & 02.06.2013 & Basel-Zürich \\ [1ex] \hline & &  \\ [-1.5ex]
4 & 06.06.2013 & Gippingen \\ [1ex] \hline & &  \\ [-1.5ex]
5 & 09.06.2013 & Tour de Suisse \\ [1ex]

\caption{Übersicht aller durchgeführten Systemtests}
\end{longtable} 

\subsubsection{\#1 - Systemtest Rapperswiler Rundfahrt}
Ein erster Praxistest um das Zusammenspiel aller drei Komponenten zu testen. Auf einer Rundfahrt durch Rapperswil mit einem einzelnen Auto konnte der eine oder andere Fehler eruiert werden. Folgende Geräte wurden zu Testzwecken eingesetzt:
\begin{itemize} [noitemsep,topsep=0pt]
	\item{Google Galaxy Nexus}
	\item{Samsung Galaxy S3}
\end{itemize}

\paragraph*{Resultate} \mbox{} \\
Folgende Erkenntnisse wurden aus dem Systemtest gewonnen:
\begin{itemize}[noitemsep,topsep=0pt]
	\item App: Fehlberechnung bei der Distanz
	\item App: Fehlberechnung bei der Renndauer
	\item App: Reproduzierbare Abstürze (NullPointerExceptions,...)
	\item App: NullPointerException wenn Gerät im Landscape-Modus
	\item TourLive Server: DataIntegrityDataViolation Exception
	\item TourLive Server: Inkonsistenzen I18N
	\item TourLive Server: durchschnittliche Geschwindigkeit
	\item Funktionierendes Zusammenspiel der Komponenten
	\item Fehlerhafte Übertragung einzelner Werte
\end{itemize}

\subsubsection{\#2 - Systemtest Langzeittest über Nacht}
Aufgrund wiederkehrender Abstürze der TourLive App bei Laufender Aufnahme wurde über Nacht ein Langzeitest durchgeführt. Beide Geräte wurden einer 8 stündigen Etappe zugewiesen und sollten über Nacht Positionsdaten und Bilder übertragen. 
\begin{itemize} [noitemsep,topsep=0pt]
	\item{Google Galaxy Nexus}
	\item{Samsung Galaxy S3}
\end{itemize}

\paragraph*{Resultate} \mbox{} \\
Folgende Erkenntnisse wurden aus dem Systemtest gewonnen:
\begin{itemize}[noitemsep,topsep=0pt]
	\item Google Galaxy Nexus: hat den Test erfolgreich bestanden. Im Log konnten keine Verdächtigen Einträge festgestellt werden.
	\item Samsung Galaxy S3: App ist nach rund 2 Stunden aufgrund eines SIG-9 FATAL ERROR's abgestürzt. Grund für solche Abstürze sind Schreib-/Lesekonflikte im Speicherbereich und treten auf wenn zwei Threads gleichzeitig eine gemeinsame Variabel lesen / schreiben. Aufgrund dieser Erkenntnis wurden die diversen AsyncTasks, die parallel ausgeführt werden, optimiert.1
\end{itemize}



\subsubsection{\#3 - Systemtest Basel - Zürich}
Während einer längeren Autofahrt wurde das System als Ganzes erneut einem grundlegenden Test unterzogen. Die Aufnahmegeräte wurden so konfiguriert, dass von beiden Geräten Bilder übertragen wurde.

\begin{itemize} [noitemsep,topsep=0pt]
	\item Google Galaxy Nexus [Orange SIM-Karte]
	\item Samsung Galaxy S3 [Swisscom SIM-Karte]
\end{itemize}

\paragraph*{Resultate} \mbox{} \\
Beide Geräte sendeten Bilder und Positionsdaten an den TourLive Server. Beim Google Galaxy Nexus mit der Orange SIM-Karte wurden aufgrund der schlechteren Netzabdeckung weniger Übertragungen registriert. Die TourLive Applikation auf dem Samsung Galaxy S3 musste 2x aufgrund eines Crashes neugestartet werden.

\subsubsection{\#4 - Systemtest Radsporttage Gippingen}
\label{sec:testberichtgippingen}
%TODO bitte reviewen und ergänzen / korrigieren
Für den Testlauf an den Radsporttagen in Gippingen wurden drei verschiedene Androidgeräte mit der aktuellsten Version der TourLive App ausgerüstet. Auf dem TourLive Server wurde ein Rennen und eine Etappe erstellt und die Fahrerliste sowie die Marschtabelle importiert. Die drei Aufnahmegeräte wurden dann im RadioTour Wagen bzw. bei zwei weiteren Kommissären im Auto installiert. Zwei zusätzliche Androidgeräte wurden parallel betrieben, jedoch nicht in einem der offiziellen Rennbegleitfahrzeug sondern um weitere Testparameter festzustellen.
\\

Nach wenigen Minuten konnte kein Kontakt mehr zum ersten Aufnahmegerät hergestellt werden. Das Gerät konnte durch die Notfallwiederherstellung per SMS neu gestartet werden, jedoch war nach kurzem Kontakt die Verbindung zum Gerät wieder abgebrochen. Die erste Analyse ergab, dass das Gerät stark überhitzt war und sich deshalb selbst ausschaltete. Ein weiteres Gerät versuchte sich mit dem naheliegenden Deutschen Mobilfunknetz zu verbinden, was aber daran scheiterte, das dass Datenroaming deaktiviert war.
\\

Das dritte Gerät sowie die zusätzlichen Testgeräten hielten den Test durch, obwohl alle Geräte extrem warm geworden sind. Die eingelieferten Daten wurden vom TourLive Server empfangen und verarbeitet. Die Kommunikation zwischen Aufnahmegeräten und Server verlief problemlos.

\subsubsection{\#5 - Systemtest Tour de Suisse - 2. Etappe}


\subsection{Unit Tests}
\label{sec:unittests}
\subsection{Unit Tests - TourLive Server}
Für den TourLive Server existieren grundlegende JUnit Tests. Diese dienen in erster Linie dazu, die Serverkomponente zu testen und die Entwicklung von weiteren Tests beispielhaft zu dokumentieren.